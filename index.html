<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REST API Client</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Mobile Sidebar Toggle -->
    <button id="sidebar-toggle" class="sidebar-toggle" aria-label="Toggle sidebar">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- App Container -->
    <div class="app-container">
        <!-- Sidebar -->
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h2>API Client</h2>
                <button id="theme-toggle" class="theme-toggle">ð</button>
            </div>

            <div class="sidebar-content">
                <!-- Environment -->
                <section class="sidebar-section">
                    <h3>Environment</h3>
                    <select id="environment-select" class="form-control">
                        <option value="0">None</option>
                    </select>
                </section>

                <!-- Saved Requests -->
                <section class="sidebar-section">
                    <div class="section-header">
                        <h3>Saved</h3>
                        <button id="import-sample-btn" class="btn btn--outline btn--sm">Samples</button>
                    </div>
                    <div id="saved-requests" class="request-list">
                        <div class="empty-state">No saved requests</div>
                    </div>
                </section>

                <!-- History -->
                <section class="sidebar-section">
                    <div class="section-header">
                        <h3>History</h3>
                        <button id="clear-history-btn" class="btn btn--outline btn--sm">Clear</button>
                    </div>
                    <div id="request-history" class="request-list">
                        <div class="empty-state">No history</div>
                    </div>
                </section>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Request Panel -->
            <div class="request-panel">
                <!-- URL Bar -->
                <div class="url-bar">
                    <select id="method-select" class="method-select form-control">
                        <option value="GET">GET</option>
                        <option value="POST">POST</option>
                        <option value="PUT">PUT</option>
                        <option value="DELETE">DELETE</option>
                        <option value="PATCH">PATCH</option>
                        <option value="HEAD">HEAD</option>
                        <option value="OPTIONS">OPTIONS</option>
                    </select>
                    <input type="text" id="url-input" class="form-control url-input" placeholder="https://api.example.com/endpoint">
                    <div class="url-actions">
                        <button id="save-btn" class="btn btn--outline">Save</button>
                        <button id="send-btn" class="btn btn--primary">Send</button>
                    </div>
                </div>

                <!-- Request Configuration -->
                <div class="config-tabs">
                    <nav class="tab-nav">
                        <button class="tab-btn active" data-tab="params">Params</button>
                        <button class="tab-btn" data-tab="headers">Headers</button>
                        <button class="tab-btn" data-tab="auth">Auth</button>
                        <button class="tab-btn" data-tab="body">Body</button>
                    </nav>

                    <!-- Query Parameters -->
                    <div id="params-tab" class="tab-panel active">
                        <div class="panel-header">
                            <h4>Query Parameters</h4>
                            <button id="add-param-btn" class="btn btn--outline btn--sm">Add</button>
                        </div>
                        <div id="params-container" class="kv-container"></div>
                    </div>

                    <!-- Headers -->
                    <div id="headers-tab" class="tab-panel">
                        <div class="panel-header">
                            <h4>Request Headers</h4>
                            <button id="add-header-btn" class="btn btn--outline btn--sm">Add</button>
                        </div>
                        <div id="headers-container" class="kv-container"></div>
                    </div>

                    <!-- Authentication -->
                    <div id="auth-tab" class="tab-panel">
                        <div class="panel-header">
                            <h4>Authentication</h4>
                        </div>
                        <select id="auth-type" class="form-control auth-type-select">
                            <option value="none">No Auth</option>
                            <option value="bearer">Bearer Token</option>
                            <option value="apikey">API Key</option>
                            <option value="basic">Basic Auth</option>
                        </select>
                        <div id="auth-fields" class="auth-fields"></div>
                    </div>

                    <!-- Request Body -->
                    <div id="body-tab" class="tab-panel">
                        <div class="panel-header">
                            <h4>Request Body</h4>
                            <button id="format-json-btn" class="btn btn--outline btn--sm">Format JSON</button>
                        </div>
                        <div class="body-type-tabs">
                            <label class="body-type-label">
                                <input type="radio" name="body-type" value="json" checked> JSON
                            </label>
                            <label class="body-type-label">
                                <input type="radio" name="body-type" value="text"> Text
                            </label>
                            <label class="body-type-label">
                                <input type="radio" name="body-type" value="form"> Form
                            </label>
                        </div>
                        <textarea id="body-textarea" class="form-control body-textarea" placeholder='{"key": "value"}' rows="6"></textarea>
                        <div id="form-data-container" class="kv-container" style="display: none;"></div>
                        <button id="add-form-field-btn" class="btn btn--outline btn--sm" style="display: none;">Add Field</button>
                    </div>
                </div>
            </div>

            <!-- Response Panel -->
            <div class="response-panel">
                <div class="response-header">
                    <div class="response-title">
                        <h3>Response</h3>
                        <div class="response-meta">
                            <span id="response-status" class="status status--info">Ready</span>
                            <span id="response-time" class="response-time">0ms</span>
                            <span id="response-size" class="response-size">0B</span>
                        </div>
                    </div>
                    <div class="response-actions">
                        <button id="copy-response-btn" class="btn btn--outline btn--sm">Copy</button>
                        <button id="clear-response-btn" class="btn btn--outline btn--sm">Clear</button>
                    </div>
                </div>

                <div class="response-tabs">
                    <nav class="response-tab-nav">
                        <button class="response-tab-btn active" data-tab="body">Body</button>
                        <button class="response-tab-btn" data-tab="response-headers">Headers</button>
                    </nav>

                    <div class="response-content">
                        <div id="response-body-tab" class="response-tab-panel active">
                            <pre id="response-body" class="response-body"><code>No response yet. Send a request to see results here.</code></pre>
                        </div>
                        <div id="response-headers-tab" class="response-tab-panel">
                            <pre id="response-headers-display" class="response-headers">No headers</pre>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Save Request Modal -->
    <div id="save-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Save Request</h3>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Name</label>
                    <input type="text" id="save-name-input" class="form-control" placeholder="My API Request">
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea id="save-description-input" class="form-control" rows="2" placeholder="Optional description"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-save-btn" class="btn btn--outline">Cancel</button>
                <button id="confirm-save-btn" class="btn btn--primary">Save</button>
            </div>
        </div>
    </div>

    <!-- Environment Modal -->
    <div id="env-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Environment Variables</h3>
            </div>
            <div class="modal-body">
                <div id="env-list"></div>
                <button id="add-env-btn" class="btn btn--outline">Add Environment</button>
            </div>
            <div class="modal-footer">
                <button id="close-env-modal-btn" class="btn btn--primary">Close</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>